<app-header></app-header>
<div class="container">

    <div class="row">
    
    </div>
    <div class=" col-12 mt-5 ma" *ngIf="fiesta && boletos">
    
        <div class="custom-block custom-block-overlay  ma  " style="height: 500px; ">
            <div class="d-flex flex-column h-100 ">
                <img [src]="(fiesta.img!=='')?url+'/upload/fiestas/'+fiesta.img:url+'/upload/fiestas/default.jpg'"
                    class="custom-block-image img-fluid" alt="">
    
                <div class="custom-block-overlay-text text-center ma" style="margin-top: 65px;">
                    <div class="col-12  "  >
    
                        <h4 class="text-white mb-2" style="font-size: 18px;">
                            <a class="textDN text-white" routerLink="/core/info-fiesta/{{fiesta.uid}}">
    
                                {{fiesta.nombre}}
                            </a>
                            <small style="color:var(--primary-color) ;font-size:15px ;">&nbsp;{{
    
                                (typeOf(fiesta.salon
                                )=='string')?getCatalog('salon',fiesta.salon):fiesta.salon.nombre
                                }}
                                <b style="color:white">&nbsp;{{fiesta.fecha |
                                    date:"short"}}</b>
    
                            </small>
                            <div class="col-12 mt-2 text-center" *ngIf="fiesta.galeria">
                                Galería de Imágenes
                                <a class="text-center ma"
                                    style="   
                                                                    margin-left: 15px;width: 30px;height: 30px;background-color: #ffffff;border-radius: 100%;text-align: center !important;"
                                    *ngIf="rol===ANF" routerLink="/core/galeria/fst/{{fiesta.uid}}/anf/{{uid}}">
    
                                    <i class="bi bi-images ma"
                                        style=" font-size: 20px;margin:auto; color:#13547a ; display: block; "></i>
                                </a>
                                <a class="text-center ma"
                                    style="   
                                                                    margin-left: 15px;width: 30px;height: 30px;background-color: #ffffff;border-radius: 100%;text-align: center !important;"
                                    *ngIf="rol!==ANF"
                                    routerLink="/core/galeria/fst/{{fiesta.uid}}/anf/{{fiesta.usuarioFiesta._id}}">
    
                                    <i class="bi bi-images ma"
                                        style=" font-size: 20px;margin:auto; color:#13547a ; display: block; "></i>
                                </a>
                            </div>
    
    
                        </h4>
    
    
    
                        <ul class="text-white" style="list-style: none;" *ngIf="boletos.length>0">
                            <li class="list" *ngIf="fiesta.checking">Tickets
                                <b class="text-white">{{ fiesta.cantidad}}</b>
                            </li>
                            <li class="list">Invitaciones creadas
                                <b class="text-white">{{getActivas(boletos)}}</b>
                            </li>
                            <li class="list" *ngIf=" fiesta.checking">Ocupados
                                <b class="text-white">{{gettotal(boletos
                                    ,'ocupados')}}</b>
                            </li>
                            <li class="list" *ngIf=" fiesta.checking">Libres
                                <b class="text-white">{{fiesta.cantidad
                                    -gettotal(boletos
                                    ,'ocupados')}}</b>
                            </li>
                            <li class="list">Confirmados
                                <b class="text-white">{{getConfirmados(boletos)}}</b>
                            </li>
                            <li class="list">Personas en evento
                                <b class="text-white"
                                    [ngClass]="{'danger': gettotal(boletos,'') === getOnParty(boletos) }">{{getOnParty(boletos)}}</b>
                            </li>
    
    
    
                        </ul>
    
    
    
    
    
    
    
                    </div>
    
                    
                    
                </div>
                
                <br>
                
                
                <div class="section-overlay"></div>
            </div>
        </div>
        
       
    </div>
</div>
<div class="container-fluid mt-5">
    <ng-container class="col-12  mt-5 ma">
      <div class="table-over">
        
          <table class="table table-striped table-bordered ">
              <thead class="thead-dark">
  
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Vista</th>
                  <th scope="col">Enviada</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Boletos</th>
                  <th scope="col">Boletos requeridos</th>
                  <th scope="col">Boletos mesa</th>
                  <th scope="col">Confirmado</th>
                  <th scope="col">Fecha confirmado</th>
                  <th scope="col">En evento</th>
                </tr>
              </thead>
              <tbody >
                <tr *ngFor="let item of boletos ; let i=index">
                  <th scope="row">{{i+1}}</th>
                  <td *ngIf="item.vista" class="text-center">
                    
                    <i class="icon-eye prima  " ></i>
                    
                </td>
                <td *ngIf="!item.vista" class="text-center">
                    
                    <i class="  prima  "  style="font-weight: 800;"> X</i>

                  </td>
                  <td *ngIf="item.invitacionEnviada" class="text-center">
                    
                    <i class="send prima  " ></i>
                    
                </td>
                <td *ngIf="!item.invitacionEnviada" class="text-center">
                    
                    <i class="  prima  "  style="font-weight: 800;"> X</i>

                  </td>
                  invitacionEnviada
                
                  <td>{{item.nombreGrupo}}</td>
                  <td>{{item.cantidadInvitados}}</td>
                  <td>{{item.requeridos}}</td>
                  <td>{{item.mesa}}</td>
                  <td>{{item.confirmado}}</td>
                  <td>{{item.fechaConfirmacion | date:'short'}}</td>
                  <td>{{item.ocupados}}</td>
           
                </tr>
                
              </tbody>
            </table>
      </div>
    </ng-container>
</div>
<div class="col-12 text-center mt-5 ma ">
    
    <button class="btn btn-lg btn-block btn-warning" (click)="back()">Regresar</button>

</div>

<app-footer></app-footer>